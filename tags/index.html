---
layout: page
title: Tag Archive
description: "An archive of posts and projects sorted by tag."
comments: false
---

{% capture site_tags %}
  {% for tag in site.tags %}{{ tag | first }}{% unless forloop.last %},{% endunless %}{% endfor %}
  {% for project in site.projects %}
    {% if project.tags %}
      {% for tag in project.tags %}{{ tag }}{% unless forloop.last %},{% endunless %}{% endfor %}
    {% endif %}
  {% endfor %}
{% endcapture %}
{% assign tags_list = site_tags | split:',' | uniq | sort %}

<!-- Display all tags with counts -->
<ul class="entry-meta inline-list">
  {% for item in (0..tags_list.size) %}{% unless forloop.last %}
    {% capture this_word %}{{ tags_list[item] | strip_newlines }}{% endcapture %}
    <li>
      <a href="#{{ this_word }}" class="tag">
        <span class="term">{{ this_word }}</span>
        <span class="count">
          {{ site.tags[this_word].size | default: 0 | plus: site.projects | where_exp: "project", "project.tags contains this_word" | size }}
        </span>
      </a>
    </li>
  {% endunless %}{% endfor %}
</ul>

<!-- Display posts and projects under each tag -->
{% for item in (0..tags_list.size) %}{% unless forloop.last %}
  {% capture this_word %}{{ tags_list[item] | strip_newlines }}{% endcapture %}
  <article>
    <h2 id="{{ this_word }}" class="tag-heading">{{ this_word }}</h2>
    <ul>
      <!-- Posts with this tag -->
      {% for post in site.tags[this_word] %}
        {% if post.title != null %}
          <li class="entry-title">
            <a href="{{ site.url }}{{ post.url }}" title="{{ post.title }}">{{ post.title }}</a>
          </li>
        {% endif %}
      {% endfor %}
      <!-- Projects with this tag -->
      {% for project in site.projects %}
        {% if project.tags contains this_word %}
          <li class="entry-title">
            <a href="{{ site.url }}{{ project.url }}" title="{{ project.title }}">{{ project.title }}</a>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  </article><!-- /.hentry -->
{% endunless %}{% endfor %}
